<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta author="Ryan Oliver Sotto">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>


    <title>Scooby Trivia</title>

    <style>
        jumbotron,
        h1,
        p {
            text-align: center;
        }

        body {
            text-align: center;
        }
    </style>
</head>

<body>
    <div class="jumbotron">
        <h1>Scooby Doo, Where Are You?</h1>
        <p>A Scooby Doo Trivia Game</p>
    </div>
    <div id="startLanding">
        <div style="text-align: center">
            <button id="startGame" class="btn btn-primary">Start</button>
        </div>
    </div>
    <div id="timeRemaining"></div>
    <div id="formQuiz"></div>
    <div id="formSubmit">
        <div id="quizResults"></div>
</body>
<script type="text/javascript">



    var userPick = [null, null, null, null, null, null, null, null, null, null];
    var correctAnswers = 0;
    var wrongAnswers = 0;
    var missedAnswers = 0;
    var timeDisplay;
    var counter = 6000;
    var intervalID;
    var questions = [{
        question: "What was is Shaggy's real first name?",
        choices: ["Michael", "Johnathan", "Norville", "Elmer"],
        answer: 2
    },
    {
        question: "What breed of dog is Scooby Doo?",
        choices: ["Great Dane", "Irish Wolfhound", "German Shepard", "Bloodhound"],
        answer: 0
    },
    {
        question: "Which of the Scooby Doo gang has the catchphrase 'JINKIES!'",
        choices: ["Fred", "Velma", "Daphne", "Scooby Doo"],
        answer: 1
    },
    {
        question: "What is the last name of Fred?",
        choices: ["Johnson", "Smith", "Jones", "Appleton"],
        answer: 2
    },
    {
        question: "What is the name of the van the Scooby gang travels in?",
        choices: ["Mystery Busters", "Mystery Machine", "Ghost Adventures", "BloodHound Gang"],
        answer: 1
    },
    {
        question: "In what year did Scooby Doo debut on national television?",
        choices: ["1972", "1965", "1969", "1970"],
        answer: 2
    },
    {
        question: "Which television network was the first to air Scooby Doo?",
        choices: ["CBS", "ABC", "NBC", "PBS"],
        answer: 0
    },
    {
        question: "1985s Thirteen Ghosts of Scooby Doo featured which new character?",
        choices: ["Bill the Cat", "Scrappy Doo", "Scooby Dee", "Vincent Van Ghoul"],
        answer: 3
    },
    {
        question: "What is the full name of Scooby Doo?",
        choices: ["Prince Scooby", "Scooby Dooby Do", "Scoobert", "Scooby Rex"],
        answer: 2
    },
    {
        question: "What was the catchphrase of Scrappy Doo?",
        choices: ["Puppy Power", "Lemme at him!", "Clobbering Time!", "Paw Paw Paw Punch!"],
        answer: 0
    }
    ];

    //console.log("Questions length ", questions.length);

    $(document).ready(function () {

        $("#startGame").click(function () {
            intervalID = setInterval(decrement, 1000);
            writeQuestions();
            $("#startGame").hide();
            writeSubmitButton();

            $("#submitQuiz").click(function () {
                //alert("I was clicked!");
                showResults();
            });

            //See if you can get this to work the WET way
            //I AM HAVING A HARD TIME ACCESSING THE RADIO BUTTONS DYNAMICALLY
            $("input[name=optradio_0]:radio").click(function () {
                //alert("I was clicked!");
                console.log(this.value);
                userPick[0] = (this.value);
            });
            $("input[name=optradio_1]:radio").click(function () {
                // alert("I was clicked!");
                console.log(this.value);
                userPick[1] = (this.value);
            });
            $("input[name=optradio_2]:radio").click(function () {
                //alert("I was clicked!");
                console.log(this.value);
                userPick[2] = (this.value);
            });
            $("input[name=optradio_3]:radio").click(function () {
                //alert("I was clicked!");
                console.log(this.value);
                userPick[3] = (this.value);
            });
            $("input[name=optradio_4]:radio").click(function () {
                //alert("I was clicked!");
                console.log(this.value);
                userPick[4] = (this.value);
            });
            $("input[name=optradio_5]:radio").click(function () {
                //alert("I was clicked!");
                console.log(this.value);
                userPick[5] = (this.value);
            });
            $("input[name=optradio_6]:radio").click(function () {
                //alert("I was clicked!");
                console.log(this.value);
                userPick[6] = (this.value);
            });
            $("input[name=optradio_7]:radio").click(function () {
                //alert("I was clicked!");
                console.log(this.value);
                userPick[7] = (this.value);
            });
            $("input[name=optradio_8]:radio").click(function () {
                //alert("I was clicked!");
                console.log(this.value);
                userPick[8] = (this.value);
            });
            $("input[name=optradio_9]:radio").click(function () {
                //alert("I was clicked!");
                console.log(this.value);
                userPick[9] = (this.value);
            });


        });
    });


    function writeQuestions() {
        for (var i = 0; i < questions.length; i++) {
            $("#formQuiz").append(questions[i].question + "</br></br>");
            //console.log("Length of choices array. "+ questions[i].choices.length);
            //console.log(questions[i].choices[0]);
            //console.log(questions[i].choices[1]);
            //console.log(questions[i].choices[2]);
            //console.log(questions[i].choices[3]);
            for (var x = 0; x < questions[i].choices.length; x++) {
                //$("#formQuiz").append("<label class='radio-inline'><input type='radio' name='group" + i + "'>" + questions[i].choices[x] + "</label></br><br>");
                $("#formQuiz").append("<label class='radio-inline'><input value='" + x + "' type='radio' name='optradio_" + i + "'>" + questions[i].choices[x] + "</label><br/><br/>");
            }
        }
    }

    function writeSubmitButton() {
        $("#formSubmit").append("<button id='submitQuiz' class='btn btn-primary'>Submit</button>");
    }


    function decrement() {
        //  Decrease number by one.
        counter--;
        //  Show the number in the #show-number tag.
        $("#timeRemaining").html("<h2>" + counter + " seconds remaining.</h2>");
        //  Once number hits zero...
        if (counter === 0) {
            alert("Time Up!");
            //Do additional logic and process the quiz results
            showResults();
        }
    }

    function showResults() {
        $("#formQuiz").hide();
        $("#timeRemaining").hide();
        $("#submitQuiz").hide();
        //tallyResults();
        for (i = 0; i < questions.length; i++) {
            //console.log("Correct answer per radio group: " + questions[i].answer);
            if (questions[i].answer == userPick[i]) {
                correctAnswers++;
            }
            else if (userPick[i] === null) {
                missedAnswers++;
            }
            else {
                wrongAnswers++;
            }
        }
        $("#quizResults").append("<p>ALL DONE!</p>");
        $("#quizResults").append("<p>Correct Answers: " + correctAnswers + "</p>");
        $("#quizResults").append("<p>Incorrect Answers: " + wrongAnswers + "</p>");
        $("#quizResults").append("<p>Unanswered: " + missedAnswers + "</p>");
    }
    console.log("User responses: ", userPick);



</script>

</html>